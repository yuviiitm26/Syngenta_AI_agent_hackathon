# Syngenta_AI_agent_hackathon
 ğŸ” AI Agent for SQL + Document + Hybrid Querying An intelligent AI assistant that understands natural language questions and answers them using:  âœ… SQL queries over structured databases  âœ… Document-based reasoning with RAG (Retrieval-Augmented Generation)  âœ… Hybrid logic (both documents + SQL) with Chain-of-Thought (CoT) prompting  âœ… Role-Based Access Control (RBAC) for secure query execution  Built using LangChain, Anthropic Claude 3.5, FAISS, and Streamlit.  ğŸ§  Features ğŸ—ƒï¸ Natural Language to SQL: Converts questions to PostgreSQL queries using schema-aware generation.  ğŸ“„ Document QA: Answers questions grounded in preloaded PDF/text documents via retrieval and LLM synthesis.  ğŸ” Hybrid Reasoning: Combines document rules and SQL data to answer complex analytical questions.  ğŸ§© Chain of Thought Prompting: Uses intermediate reasoning steps for improved query generation and answers.  ğŸ” RBAC (Role-Based Access Control): Restricts access to sensitive queries (e.g., profit margins) based on user roles.  ğŸ’¬ Chat Interface (Streamlit): Provides a conversational UI with real-time reasoning and results.  âš ï¸ Robust Error Handling: Detects hallucinated tables/columns and gracefully recovers from SQL errors.  ğŸ’¡ Example Use Cases "What were the top 5 products with the highest return rate in Q1?"  "Which items qualify as no-movers based on our policy?"  "Explain warranty claim trends from documents and link with order history."  ğŸ—ï¸ Tech Stack Component	Tech LLM	Claude 3.5 Sonnet / Google Gemini SQL Engine	PostgreSQL Document Indexing	FAISS Framework	LangChain UI	Streamlit PDF Parsing	PyMuPDF / LangChain PDF loaders Prompting	Chain of Thought (CoT)  ğŸš€ Getting Started 1. Clone the repo bash Copy Edit git clone https://github.com/your-username/ai-agent-sql-doc-chat.git cd ai-agent-sql-doc-chat 2. Install dependencies bash Copy Edit pip install -r requirements.txt 3. Configure .env Create a .env file and set your API keys and DB connection:  ini Copy Edit ANTHROPIC_API_KEY=your_key OPENAI_API_KEY=optional POSTGRES_URI=postgresql://user:pass@host:port/dbname 4. Run Streamlit App bash Copy Edit streamlit run app.py ğŸ” Role-Based Access Control (RBAC) This project includes dynamic query filtering based on user roles (e.g., admin, guest). Sensitive keywords like "profit" or "financial" are blocked for non-admins, with logging and safe alternatives suggested.  ğŸ“ Directory Structure bash Copy Edit â”œâ”€â”€ app.py                      # Main Streamlit app â”œâ”€â”€ sql_utils.py                # Dynamic schema, sample data, SQL execution â”œâ”€â”€ doc_qa.py                   # Document QA using FAISS + LLM â”œâ”€â”€ hybrid_reasoning.py         # Hybrid reasoning with CoT prompting â”œâ”€â”€ auth.py                     # Role-based access control â”œâ”€â”€ prompts/                    # Prompt templates â”œâ”€â”€ data/                       # Static documents and schema files â””â”€â”€ README.md ğŸ“Œ TODOs & Improvements  Add login interface with Supabase/Auth0 for role management   Support for SQL query history   Memory for chat context   Export results to CSV/PDF  ğŸ™Œ Acknowledgements LangChain  Anthropic Claude  FAISS  Streamlit  ğŸ“ License MIT License
